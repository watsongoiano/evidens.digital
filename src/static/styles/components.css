/* Cards */
.card {
  background: var(--color-surface);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-m);
  padding: var(--sp-6);
}

/* Cabeçalhos locais de seção */
.section-title {
  font-size: var(--fs-xl);
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: var(--sp-5);
}

/* Botões (Science Blue apenas em ações) */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--sp-2);
  padding: var(--sp-3) var(--sp-5);
  border-radius: var(--radius-s);
  border: 1px solid transparent;
  font-weight: 600;
  font-size: var(--fs-md);
  line-height: 1;
  cursor: pointer;
  background: var(--action);
  color: #fff;
  transition: background-color 120ms ease, border-color 120ms ease, color 120ms ease, transform 60ms ease;
}
.btn:hover { background: var(--action-hover); }
.btn:active { background: var(--action-active); transform: translateY(0.5px); }
.btn:focus-visible { outline: 2px solid var(--focus-ring); outline-offset: 2px; }

/* Botão secundário neutro */
.btn-secondary { background: var(--gray-50); color: var(--gray-700); border-color: var(--border-color); }
.btn-secondary:hover { background: #EBEBEF; }

/* Inputs e formulários */
.label { display: block; font-size: var(--fs-sm); color: var(--gray-600); margin-bottom: var(--sp-2); }
.input, .select, .textarea {
  width: 100%;
  background: #fff;
  color: var(--gray-700);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-s);
  padding: var(--sp-3) var(--sp-4);
  font-size: var(--fs-md);
}
.input::placeholder, .textarea::placeholder { color: var(--gray-400); }
.input:focus, .select:focus, .textarea:focus { outline: 2px solid var(--focus-ring); outline-offset: 2px; }

/* Estados neutros (evitar cores vibrantes em non-action) */
.badge { display: inline-block; padding: 2px 10px; border: 1px solid var(--border-color); border-radius: 999px; font-size: var(--fs-sm); color: var(--gray-600); background: #fff; }

/* Header das páginas (substitui gradiente/centro por alinhamento à esquerda) */
.header { background: #fff; color: var(--gray-700); text-align: left; padding: var(--sp-7) 0 var(--sp-6); border-bottom: 1px solid var(--border-color); }
.header h1 { font-size: clamp(var(--fs-2xl), 4vw, var(--fs-3xl)); font-weight: 600; margin-bottom: var(--sp-3); }
.header p { font-size: var(--fs-md); color: var(--gray-500); }

/* Seções principais (form e resultados) */
.main-content { display: grid; grid-template-columns: 1fr 1fr; min-height: 560px; }
@media (max-width: 900px) { .main-content { grid-template-columns: 1fr; } }
.form-section { padding: var(--sp-6); background: #fff; border-right: 1px solid var(--border-color); }
.results-section { padding: var(--sp-6); background: #fff; }

/* Cartões de estatística (analytics) */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap: var(--sp-5); padding: var(--sp-6); }
.stat-card { background: #fff; border: 1px solid var(--border-color); border-radius: var(--radius-m); padding: var(--sp-5); text-align: left; }
.stat-card h3 { color: var(--gray-600); font-size: var(--fs-sm); text-transform: none; letter-spacing: 0; margin-bottom: var(--sp-2); }
.stat-card .number { font-size: 28px; font-weight: 700; color: var(--gray-700); margin-bottom: 4px; }
.stat-card .label { color: var(--gray-500); font-size: var(--fs-sm); }

/* Botão de atualização (analytics) */
.refresh-btn { display: inline-flex; align-items: center; gap: var(--sp-2); margin: var(--sp-5) auto; padding: var(--sp-3) var(--sp-5); background: var(--action); color: #fff; border: 1px solid transparent; border-radius: var(--radius-s); font-size: var(--fs-md); cursor: pointer; }
.refresh-btn:hover { background: var(--action-hover); }

/* Estados de carregamento e meta-informações no analytics */
.loading, .last-updated { text-align: left; color: var(--gray-500); font-size: var(--fs-sm); margin: var(--sp-5) var(--sp-6); }

/* Formulários específicos do sistema */
.form-group { margin-bottom: var(--sp-5); }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: var(--sp-4); margin-bottom: var(--sp-4); }
@media (max-width: 768px) { .form-row { grid-template-columns: 1fr; } }

.checkbox-group { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--sp-3); margin-top: var(--sp-3); }
@media (max-width: 768px) { .checkbox-group { grid-template-columns: 1fr; } }

.checkbox-item { display: flex; align-items: center; padding: var(--sp-2); background: white; border-radius: var(--radius-s); border: 1px solid var(--border-color); transition: all 0.2s ease; }
.checkbox-item:hover { background: var(--gray-50); border-color: var(--action); }
.checkbox-item input[type="checkbox"] { width: auto; margin-right: var(--sp-2); }

.others-input { margin-top: var(--sp-4); }

/* Seção de exames anteriores */
.exam-history { background: var(--gray-50); border: 1px solid var(--border-color); border-radius: var(--radius-m); padding: var(--sp-4); margin-top: var(--sp-4); }
.exam-history h4 { color: var(--gray-700); margin-bottom: var(--sp-3); }

/* Upload de PDFs */
.upload-zone { border: 2px dashed var(--action); border-radius: var(--radius-m); padding: var(--sp-6); text-align: center; cursor: pointer; transition: all 0.3s ease; background: var(--gray-50); }
.upload-zone:hover { border-color: var(--action-hover); background: #f0f4ff; }
.upload-zone.dragover { border-color: var(--action-active); background: #e6fffa; }
.upload-icon { font-size: 2rem; margin-bottom: var(--sp-3); }

/* Arquivos carregados */
.file-item { display: flex; justify-content: space-between; align-items: center; padding: var(--sp-3); background: white; border: 1px solid var(--border-color); border-radius: var(--radius-s); margin-bottom: var(--sp-2); }
.file-info { display: flex; align-items: center; }
.file-icon { margin-right: var(--sp-3); font-size: 1.2rem; }
.file-name { font-weight: 500; color: var(--gray-700); }
.file-size { font-size: var(--fs-xs); color: var(--gray-500); margin-left: var(--sp-3); }

/* Status dos arquivos */
.file-status { font-size: var(--fs-xs); padding: 2px 8px; border-radius: 12px; font-weight: 500; }
.status-processing { background: var(--gray-100); color: var(--gray-600); }
.status-completed { background: #dcfce7; color: #16a34a; }
.status-error { background: #fee2e2; color: #dc2626; }

.remove-file { background: #dc2626; color: white; border: none; border-radius: 4px; padding: 4px 8px; cursor: pointer; font-size: var(--fs-xs); }

/* Status de processamento */
.processing-status { display: flex; align-items: center; padding: var(--sp-3); background: #e6fffa; border: 1px solid #81e6d9; border-radius: var(--radius-s); margin-top: var(--sp-3); }
.loading-spinner { width: 16px; height: 16px; border: 2px solid var(--gray-200); border-top: 2px solid var(--action); border-radius: 50%; animation: spin 1s linear infinite; margin-right: var(--sp-3); }

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Resultados */
.results-container { background: var(--gray-50); border-radius: var(--radius-l); padding: var(--sp-5); min-height: 400px; }

/* Estados vazios */
.empty-state { text-align: center; padding: var(--sp-8); color: var(--gray-500); }
.empty-state svg { width: 64px; height: 64px; margin-bottom: var(--sp-4); opacity: 0.5; }

/* Alertas */
.alert { padding: var(--sp-4); border-radius: var(--radius-m); margin-bottom: var(--sp-5); border-left: 4px solid; }
.alert-warning { background: #fff3cd; border-color: #ffc107; color: #856404; }
.alert-info { background: #d1ecf1; border-color: #17a2b8; color: #0c5460; }

/* Categorias de recomendações */
.recommendation-category { margin-bottom: var(--sp-6); }
.category-title { font-size: var(--fs-xl); font-weight: 600; color: var(--gray-700); margin-bottom: var(--sp-4); padding-bottom: var(--sp-2); border-bottom: 2px solid var(--border-color); }

/* Cards de recomendação */
.recommendation-card { background: white; border-radius: var(--radius-m); padding: var(--sp-5); margin-bottom: var(--sp-4); border-left: 4px solid var(--action); box-shadow: var(--shadow-1); transition: all 0.3s ease; position: relative; }
.recommendation-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.recommendation-card.overdue { border-left-color: #dc3545; background: #fff5f5; }
.recommendation-card.recent { border-left-color: #28a745; background: #f8fff9; }
.recommendation-card.removed { opacity: 0.5; transform: scale(0.95); pointer-events: none; }

.remove-recommendation-btn { position: absolute; top: var(--sp-2); right: var(--sp-2); background: white; color: var(--gray-600); border: 1px solid var(--border-color); border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 12px; font-weight: bold; transition: all 0.2s ease; opacity: 0.8; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2); z-index: 10; }
.remove-recommendation-btn:hover { opacity: 1; transform: scale(1.1); background: var(--gray-50); color: var(--gray-700); border-color: var(--gray-400); box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3); }
.remove-recommendation-btn:active { transform: scale(0.95); }

.recommendation-title { font-weight: 600; color: var(--gray-700); margin-bottom: var(--sp-2); font-size: var(--fs-lg); }
.recommendation-description { color: var(--gray-600); line-height: var(--lh-normal); margin-bottom: var(--sp-3); }
.recommendation-reference { font-size: var(--fs-sm); color: var(--gray-500); font-style: italic; }

/* Prioridade */
.recommendation-priority { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: var(--fs-xs); font-weight: 600; text-transform: uppercase; margin-bottom: var(--sp-3); }
.priority-alta { background: #dcfce7; color: #16a34a; }
.priority-media { background: #fef3c7; color: #d97706; }
.priority-baixa { background: #fee2e2; color: #dc2626; }

/* Status de exames */
.exam-status { position: absolute; top: var(--sp-3); right: var(--sp-3); padding: 4px 8px; border-radius: 12px; font-size: var(--fs-xs); font-weight: 600; }
.status-overdue { background: #fee2e2; color: #dc2626; }
.status-due { background: #fef3c7; color: #d97706; }
.status-recent { background: #dcfce7; color: #16a34a; }

/* Ações de relatório */
.report-actions { margin-top: var(--sp-5); display: flex; gap: var(--sp-3); }
@media (max-width: 768px) { .report-actions { flex-direction: column; } }
.report-actions button { flex: 1; padding: var(--sp-3); border: none; border-radius: var(--radius-s); font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
.btn-report { background: var(--action); color: white; }
.btn-report:hover { background: var(--action-hover); }
.print-btn { background: var(--action); color: white; }
.print-btn:hover { background: var(--action-hover); }

/* Seção de risco PREVENT */
.prevent-risk-section { background: var(--gray-50); border-radius: var(--radius-l); padding: var(--sp-6); margin-bottom: var(--sp-6); border: 1px solid var(--border-color); }
.risk-cards { display: grid; grid-template-columns: 1fr 1fr; gap: var(--sp-5); margin: var(--sp-5) 0; }
@media (max-width: 768px) { .risk-cards { grid-template-columns: 1fr; gap: var(--sp-4); } }

.risk-card { background: white; border-radius: var(--radius-l); padding: var(--sp-6); text-align: center; box-shadow: var(--shadow-1); border: 1px solid var(--border-color); transition: transform 0.3s ease, box-shadow 0.3s ease; }
.risk-card:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,0.15); }
.risk-card h4 { font-size: var(--fs-lg); color: var(--gray-700); margin-bottom: var(--sp-4); line-height: var(--lh-tight); font-weight: 500; }

.risk-percentage { font-size: 3rem; font-weight: bold; color: #dc3545; margin: var(--sp-3) 0; font-family: var(--font-sans); }
.risk-percentage.low { color: #28a745; }
.risk-percentage.borderline { color: #fd7e14; }
.risk-percentage.intermediate { color: #ffc107; }
.risk-percentage.high { color: #dc3545; }
@media (max-width: 768px) { .risk-percentage { font-size: 2.5rem; } }

.risk-interpretation { background: white; border-radius: var(--radius-m); padding: var(--sp-4); margin-top: var(--sp-4); border-left: 4px solid var(--action); }
.risk-interpretation p { margin: 0; color: var(--gray-700); }

/* Estados gerais */
.loading { text-align: center; padding: var(--sp-8); color: var(--gray-500); }
.loading::after { content: ''; display: inline-block; width: 20px; height: 20px; border: 2px solid var(--gray-200); border-top: 2px solid var(--action); border-radius: 50%; animation: spin 1s linear infinite; margin-left: var(--sp-3); }